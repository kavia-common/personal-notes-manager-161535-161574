{"is_source_file": true, "format": "TypeScript", "description": "This file defines the authentication context and provider for a frontend application using the Qwik framework. It includes state management for authentication tokens and user data, login/register/logout functions, and localStorage persistence.", "external_files": ["./models", "./http"], "external_methods": ["api.post"], "published": ["AuthContext", "useAuthProvider", "useAuth"], "classes": [], "methods": [{"name": "useAuthProvider", "description": "Provides authentication state and functions, sets up local persistence, and exposes login, register, logout, and authentication check functionalities."}, {"name": "useAuth", "description": "Custom hook to access the authentication context."}], "calls": ["api.post", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse"], "search-terms": ["auth context", "Qwik auth", "localStorage persistence", "useSignal", "AuthCredentials", "AuthResult", "auth token"], "state": 2, "file_id": 21, "knowledge_revision": 50, "git_revision": "", "revision_history": [{"43": ""}, {"50": ""}], "ctags": [{"_type": "tag", "name": "AuthContext", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^export const AuthContext = createContextId<AuthContextValue>(\"auth-context\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AuthContextValue", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^export interface AuthContextValue {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    isAuthenticated,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  const isAuthenticated = () => !!token.value;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  isAuthenticated: () => boolean;$/", "language": "TypeScript", "kind": "property", "scope": "AuthContextValue", "scopeKind": "interface"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    login,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  const login = $(async (cred: AuthCredentials) => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  login: (cred: AuthCredentials) => Promise<{ ok: boolean; error?: string }>;$/", "language": "TypeScript", "kind": "property", "scope": "AuthContextValue", "scopeKind": "interface"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    logout,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  const logout = $(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  logout: () => void;$/", "language": "TypeScript", "kind": "property", "scope": "AuthContextValue", "scopeKind": "interface"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  const persist = $(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    register,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  const register = $(async (cred: AuthCredentials) => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  register: (cred: AuthCredentials) => Promise<{ ok: boolean; error?: string }>;$/", "language": "TypeScript", "kind": "property", "scope": "AuthContextValue", "scopeKind": "interface"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    const saved = window.localStorage.getItem(\"auth_token\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  token: ReturnType<typeof useSignal<string | null>>;$/", "language": "TypeScript", "kind": "property", "scope": "AuthContextValue", "scopeKind": "interface"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    const u = window.localStorage.getItem(\"auth_user\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useAuth", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^export const useAuth = () => useContext(AuthContext);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useAuthProvider", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^export const useAuthProvider = () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^    user,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  user: ReturnType<typeof useSignal<{ id: string; email: string } | null>>;$/", "language": "TypeScript", "kind": "property", "scope": "AuthContextValue", "scopeKind": "interface"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161535-161574/notes_frontend/src/lib/auth.ts", "pattern": "/^  const value: AuthContextValue = {$/", "language": "TypeScript", "kind": "constant"}], "hash": "9c339b15b2880c004e81dac7e81fff30", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/auth.ts", "fields": [{"name": "export interface AuthContextValue {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "isAuthenticated: () => boolean;", "scope": "AuthContextValue", "scopeKind": "interface", "description": "unavailable"}, {"name": "login: (cred: AuthCredentials) => Promise<{ ok: boolean; error?: string }>;", "scope": "AuthContextValue", "scopeKind": "interface", "description": "unavailable"}, {"name": "logout: () => void;", "scope": "AuthContextValue", "scopeKind": "interface", "description": "unavailable"}, {"name": "register: (cred: AuthCredentials) => Promise<{ ok: boolean; error?: string }>;", "scope": "AuthContextValue", "scopeKind": "interface", "description": "unavailable"}, {"name": "token: ReturnType<typeof useSignal<string | null>>;", "scope": "AuthContextValue", "scopeKind": "interface", "description": "unavailable"}, {"name": "user: ReturnType<typeof useSignal<{ id: string; email: string } | null>>;", "scope": "AuthContextValue", "scopeKind": "interface", "description": "unavailable"}]}